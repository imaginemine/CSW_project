<!DOCTYPE html>
<html lang="kor">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="refresh" content="120">
    <script src="https://www.gstatic.com/firebasejs/9.6.8/firebase-SERVICE.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.6.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.10.1/firebase-database.js"></script>
    <script src="https://code.jquery.com/jquery-migrate-3.4.1.min.js"></script>
    <script type = "text/javascript" src = "db/app.js"></script>
	<!--Google Login정보 js-->
    <script type = "text/javascript" src = "googleLogin.js"></script> 
	<!--firebase database js-->
    <script type = "text/javascript" src = "db/database.js"></script>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>공기질 확인</title>
    <link rel = "stylesheet" href="/css/test.css">
    <style type="text/css">
        .my-box {border: 3px solid blue; padding: 10px}
    </style>

</head>
 
<h1 class="data-title"><img src = "" style width="100px;height:100px">공기질확인</h1>

 <div class="container">
        <div align = "right" class="row">
            <form action = "/html/tutorial.html">
                <button type="submit" class="button_image">사용방법</button>
            </form>
            <!-- <form action = "/db/db.html">
                <button type="submit" class="button_image">센서값DB 확인</button>
            </form>
            <form action = "/public_data/public_data_air.html">
                <button type="submit" class="button_image">공공데이터 확인</button>
            </form> -->
        </div>           
            
    </div>
<div align="center">
    <a href="https://www.airkorea.or.kr/index"><h3 class ="data-button">에어코리아 실시간접속</h3></a>
</div>
<br/>

<div align="center" class = "displaydata" style = "border: 5px solid skyblue; padding: 10px; color: black;">
    <form action = "./PM_last_page.html">
        <button type="submit" class="button_image"><br>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
            <canvas id="bar-chart-horizontal_0" width="240" height="120"></canvas>
             <!-- 초미세먼지: <p8 id = "PM"></p8><br>
            시간: <p8 id = "datetime"></p8>  -->
            <p3 id = "datetime_last_0_message"></p3>
        </button>

        
 
    </form>
    <div>
        <button id = "goodsShowBtn">데이터 보이기</button>
        <button id="goodsHideBtn">데이터 숨기기</button>
        <div class = "my-box" id = "goodsShowDiv">
    
            측정시간: <p4 id = "datetime_last"></p4><br>농도: <p3 id = "PM_last"></p3>㎛<br>
            측정시간: <p4 id = "datetime_last_2"></p4><br>농도: <p3 id = "PM_last_2"></p3>㎛<br>
            측정시간: <p4 id = "datetime_last_3"></p4><br>농도: <p3 id = "PM_last_3"></p3>㎛<br> 
            측정시간: <p4 id = "datetime_last_0"></p4><br>농도: <p3 id = "PM_last_0"></p3>㎛<br> 
    </div>
    </div>

    <script>
    $('#goodsShowBtn').click(function() {
    $("#goodsShowDiv").show();
        // goodsBtn을 클릭하면 goodsDiv를 보여줘라
})
    </script>

    <script>

        $(document).ready(function(){
                $("#goodsHideBtn").trigger('click');
            })
            $('#goodsHideBtn').click(function() {
            $("#goodsShowDiv").hide();  

    })
    </script>

    <div>
        <button id = "goodsShowBtn2">그래프 보이기</button>
        <button id="goodsHideBtn2">그래프 숨기기</button>
        <div id = "goodsShowDiv2">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
    <canvas id="bar-chart-horizontal" width="370" height="120"></canvas>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
    <canvas id="bar-chart-horizontal_2" width="370" height="120"></canvas>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
    <canvas id="bar-chart-horizontal_3" width="370" height="120"></canvas>
    </div>
    </div>

    <script>
        $('#goodsShowBtn2').click(function() {
        $("#goodsShowDiv2").show();
            // goodsBtn을 클릭하면 goodsDiv를 보여줘라
    })
        </script>
    
        <script>
    
    
            $(document).ready(function(){
                $("#goodsHideBtn2").trigger('click');
            })
            $('#goodsHideBtn2').click(function() {
            $("#goodsShowDiv2").hide();
    
        })
        </script>
   

    <!-- <button id="autoclick1" onclick = "q1()" type="submit" class="button_image"><img src="./image/pm25.jpg"style width="100px;height:100px"><br>실외<br>초미세먼지<br>농도: <p5 id = "names-q1"></p5></button>-->
 

    <br>
    <p3 id = "Message_PM"></p3> 

</div>
<br>
<!--<hr class = "data-line">-->

<div align="center" class = "displaydata" style = "border: 5px solid skyblue; padding: 10px; color: black;">
    <form action = "./CO_last_page.html">
        <button type="submit" class="button_image">
             <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
            <canvas id="bar-chart-horizontal_02" width="240" height="120"></canvas>
            <p3 id = "datetime_last_02_message"></p3>
        </button>
     </form>
     
     <div>
        <button id = "goodsShowBtn3">데이터 보이기</button>
        <button id="goodsHideBtn3">데이터 숨기기</button>
        
     <div id = "goodsShowDiv3" class = "my-box">
        측정시간: <p4 id = "datetime_last_4"></p4><br>농도: <p3 id = "CO_last"></p3>ppm<br>
        측정시간: <p4 id = "datetime_last_5"></p4><br>농도: <p3 id = "CO_last_2"></p3>ppm<br>
        측정시간: <p4 id = "datetime_last_6"></p4><br>농도: <p3 id = "CO_last_3"></p3>ppm<br> 
         측정시간: <p4 id = "datetime_last_02"></p4><br>농도: <p3 id = "CO_last_02"></p3>ppm<br> 
        </div>
    </div>

    <script>

$('#goodsShowBtn3').click(function() {
    $("#goodsShowDiv3").show();
        // goodsBtn을 클릭하면 goodsDiv를 보여줘라
})
    </script>

    <script>


        $(document).ready(function(){
                $("#goodsHideBtn3").trigger('click');
            })
            $('#goodsHideBtn3').click(function() {
            $("#goodsShowDiv3").hide();

    })

    </script>
    <div>
        <button id = "goodsShowBtn4">그래프 보이기</button>
        <button id="goodsHideBtn4">그래프 숨기기</button>
        <div id = "goodsShowDiv4">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
    <canvas id="bar-chart-horizontal_4" width="370" height="120"></canvas>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
    <canvas id="bar-chart-horizontal_5" width="370" height="120"></canvas>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
    <canvas id="bar-chart-horizontal_6" width="370" height="120"></canvas>
        </div>
    </div>

    <script>

        $('#goodsShowBtn4').click(function() {
            $("#goodsShowDiv4").show();
                // goodsBtn을 클릭하면 goodsDiv를 보여줘라
        })
            </script>
        
            <script>

        $(document).ready(function(){
                $("#goodsHideBtn4").trigger('click');
            })
            $('#goodsHideBtn4').click(function() {
            $("#goodsShowDiv4").hide();
        
            })
        
            </script>

     <br>
     <p3 id = "Message_CO_2"></p3>
     <br>
     <p3 id = "Message_CO"></p3>
</div>
<br>
<!--<hr class = "data-line">-->               
            
<div align="center" class = "displaydata" style = "border: 5px solid skyblue; padding: 10px; color: black;">
    <form action = "./CO2_last_page.html">
        <button type="submit" class="button_image">
            <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
            <canvas id="bar-chart-horizontal_03" width="240" height="120"></canvas>
            <p3 id = "datetime_last_03_message"></p3>
        </button>
     </form>
     <div>
        <button id = "goodsShowBtn5">데이터 보이기</button>
        <button id="goodsHideBtn5">데이터 숨기기</button>
            <div id = "goodsShowDiv5" class = "my-box">
        측정시간: <p4 id = "datetime_last_7"></p4><br>농도: <p3 id = "CO2_last"></p3>ppm<br>
        측정시간: <p4 id = "datetime_last_8"></p4><br>농도: <p3 id = "CO2_last_2"></p3>ppm<br>
        측정시간: <p4 id = "datetime_last_9"></p4><br>농도: <p3 id = "CO2_last_3"></p3>ppm<br> 
        측정시간: <p4 id = "datetime_last_03"></p4><br>농도: <p3 id = "CO2_last_03"></p3>ppm<br> 
    </div>
    </div>

    <script>

        $('#goodsShowBtn5').click(function() {
            $("#goodsShowDiv5").show();
                // goodsBtn을 클릭하면 goodsDiv를 보여줘라
        })
            </script>
        
            <script>
        
        
        $(document).ready(function(){
                $("#goodsHideBtn5").trigger('click');
            })
            $('#goodsHideBtn5').click(function() {
            $("#goodsShowDiv5").hide();
        
            })
        
            </script>

        <div>
            <button id = "goodsShowBtn6">그래프 보이기</button>
        <button id="goodsHideBtn6">그래프 숨기기</button>
        <div id = "goodsShowDiv6">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
    <canvas id="bar-chart-horizontal_7" width="370" height="120"></canvas>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
    <canvas id="bar-chart-horizontal_8" width="370" height="120"></canvas>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
    <canvas id="bar-chart-horizontal_9" width="370" height="120"></canvas>
        </div>
        </div>

        <script>

            $('#goodsShowBtn6').click(function() {
                $("#goodsShowDiv6").show();
                    // goodsBtn을 클릭하면 goodsDiv를 보여줘라
            })
                </script>
            
                <script>
            $(document).ready(function(){
                $("#goodsHideBtn6").trigger('click');
            })
            $('#goodsHideBtn6').click(function() {
            $("#goodsShowDiv6").hide();
                })
            
                </script>
     <br>
     <p3 id = "Message_CO2_2"></p3>
     <br>
     <p3 id = "Message_CO2"></p3>
</div>
<br>
 <!--<hr class = "data-line">-->

<div align="center" class = "displaydata" style = "border: 5px solid skyblue; padding: 10px; color: black;">
     <form action = "./O3_last_page.html">
         <button type="submit" class="button_image">
            <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
            <canvas id="bar-chart-horizontal_04" width="240" height="120"></canvas>
            <p3 id = "datetime_last_04_message"></p3>
         </button>
    </form>
    
    <div>
        <button id = "goodsShowBtn7">데이터 보이기</button>
        <button id="goodsHideBtn7">데이터 숨기기</button>
    <div id = "goodsShowDiv7" class = "my-box">
        측정시간: <p4 id = "datetime_last_10"></p4><br>농도: <p3 id = "O3_last"></p3>ppm<br>
        측정시간: <p4 id = "datetime_last_11"></p4><br>농도: <p3 id = "O3_last_2"></p3>ppm<br>
        측정시간: <p4 id = "datetime_last_12"></p4><br>농도: <p3 id = "O3_last_3"></p3>ppm<br> 
        측정시간: <p4 id = "datetime_last_04"></p4><br>농도: <p3 id = "O3_last_04"></p3>ppm<br> 

    </div>
    </div>

    <script>

        $('#goodsShowBtn7').click(function() {
            $("#goodsShowDiv7").show();
                // goodsBtn을 클릭하면 goodsDiv를 보여줘라
        })
            </script>
        
            <script>
        $(document).ready(function(){
                $("#goodsHideBtn7").trigger('click');
            })
            $('#goodsHideBtn7').click(function() {
            $("#goodsShowDiv7").hide();
            // goodsBtn을 클릭하면 goodsDiv를 숨겨라
        
            })
        
            </script>

    <div>
        <button id = "goodsShowBtn8">그래프 보이기</button>
        <button id="goodsHideBtn8">그래프 숨기기</button>
        <div id = "goodsShowDiv8">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
    <canvas id="bar-chart-horizontal_10" width="370" height="120"></canvas>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
    <canvas id="bar-chart-horizontal_11" width="370" height="120"></canvas>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
    <canvas id="bar-chart-horizontal_12" width="370" height="120"></canvas>
    </div>
    </div>


    <script>

        $('#goodsShowBtn8').click(function() {
            $("#goodsShowDiv8").show();
                // goodsBtn을 클릭하면 goodsDiv를 보여줘라
        })
            </script>
        
            <script>
        
                $(document).ready(function(){
                $("#goodsHideBtn8").trigger('click');
            })
            $('#goodsHideBtn8').click(function() {
            $("#goodsShowDiv8").hide();
            // goodsBtn을 클릭하면 goodsDiv를 숨겨라
        
            })
        
            </script>

    <br>
    <p3 id = "Message_O32"></p3>
    <br>
    <p3 id = "Message_O3"></p3>

</div>
                    
 <h3 class ="data-define">#define</h3></a>

        <script>

            firebase.database().ref('airQuality/2-pushJSON/').limitToLast(4).on('child_added', function(snapshot){
                    //console.log(snapshot.child("PM").val())
                    var PM_last = snapshot.child("PM").val();
                    var datetime_last = snapshot.child("datetime").val();

                    document.getElementById('PM_last').outerText = PM_last;
                    document.getElementById('datetime_last').outerText = datetime_last;
                    
                    

                    //document.write(PM_last + "<br>");


                    // for(var i in snapshot.val()){
                    //     document.write(i +" : " + snapshot.val()[i] + "<br>" + "<br>")

                    //     var PM = snapshot.val()[i].PM;

                    //     document.getElementById('PM').innerHTML = PM;
                    // }


                        
                        if(PM_last <= 15)
                        {

                          
                        new Chart(document.getElementById("bar-chart-horizontal"), {
                        
                        type: 'horizontalBar',
                        data: {
                        labels: [datetime_last],
                        datasets: [ 
                            {
                            //label: "Population (millions)",
                            backgroundColor: ["#87ceeb"],
                            data: [PM_last]
                            }
                        ]
                        },
                        options: {
                            responsive: false,
                        legend: { display: false },
                        scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 100,
                                }
                            }]
                        },
                        title: {
                            display: true,
                            text: '초미세먼지'
                        }
                        }
                    });
                }

                    else if(PM_last > 15 && PM_last < 36)
                        {

                          
                        new Chart(document.getElementById("bar-chart-horizontal"), {
                        
                        type: 'horizontalBar',
                        data: {
                        labels: [datetime_last],
                        datasets: [ 
                            {
                            //label: "Population (millions)",
                            backgroundColor: ["#adff2f"],
                            data: [PM_last]
                            }
                        ]
                        },
                        options: {
                            responsive: false,
                        legend: { display: false },
                        scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 100,
                                }
                            }]
                        },
                        title: {
                            display: true,
                            text: '초미세먼지'
                        }
                        }
                    });
                    
                    
                }
                
                    else
                        {

                          
                        new Chart(document.getElementById("bar-chart-horizontal"), {
                        
                        type: 'horizontalBar',
                        data: {
                        labels: [datetime_last],
                        datasets: [ 
                            {
                            //label: "Population (millions)",
                            backgroundColor: ["#ff0000"],
                            data: [PM_last]
                            }
                        ]
                        },
                        options: {
                            responsive: false,
                        legend: { display: false },
                        scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 100,
                                }
                            }]
                        },
                        title: {
                            display: true,
                            text: '초미세먼지'
                        }
                        }
                    });
                    
                    
                }
            
            });
                 

                firebase.database().ref('airQuality/2-pushJSON/').limitToLast(3).on('child_added', function(snapshot){
                    //console.log(snapshot.child("PM").val())
                    var PM_last_2 = snapshot.child("PM").val();
                    var datetime_last_2 = snapshot.child("datetime").val();

                    document.getElementById('PM_last_2').outerText = PM_last_2;
                    document.getElementById('datetime_last_2').outerText = datetime_last_2;

                    if(PM_last_2 <= 15)
                    {
                    new Chart(document.getElementById("bar-chart-horizontal_2"), {
                        type: 'horizontalBar',
                        data: {
                        labels: [datetime_last_2],
                        datasets: [
                            {
                            //label: "Population (millions)",
                            backgroundColor: ["#87ceeb"],
                            data: [PM_last_2]
                            }
                        ]
                        },
                        options: {
                            responsive: false,
                        legend: { display: false },
                        scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 100,
                                }
                            }]
                        },
                        title: {
                            display: true,
                            text: '초미세먼지'
                        }
                        }
                    });
                }
                else if((PM_last_2 > 15) && (PM_last_2 < 36))
                    {
                    new Chart(document.getElementById("bar-chart-horizontal_2"), {
                        type: 'horizontalBar',
                        data: {
                        labels: [datetime_last_2],
                        datasets: [
                            {
                            //label: "Population (millions)",
                            backgroundColor: ["#adff2f"],
                            data: [PM_last_2]
                            }
                        ]
                        },
                        options: {
                            responsive: false,
                        legend: { display: false },
                        scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 100,
                                }
                            }]
                        },
                        title: {
                            display: true,
                            text: '초미세먼지'
                        }
                        }
                    });
                }

                else 
                    {
                    new Chart(document.getElementById("bar-chart-horizontal_2"), {
                        type: 'horizontalBar',
                        data: {
                        labels: [datetime_last_2],
                        datasets: [
                            {
                            //label: "Population (millions)",
                            backgroundColor: ["#ff0000"],
                            data: [PM_last_2]
                            }
                        ]
                        },
                        options: {
                            responsive: false,
                        legend: { display: false },
                        scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 100,
                                }
                            }]
                        },
                        title: {
                            display: true,
                            text: '초미세먼지'
                        }
                        }
                    });
                }


                });

                firebase.database().ref('airQuality/2-pushJSON/').limitToLast(2).on('child_added', function(snapshot){
            //console.log(snapshot.child("PM").val())
            var PM_last_3 = snapshot.child("PM").val();
            var datetime_last_3 = snapshot.child("datetime").val();

            document.getElementById('PM_last_3').outerText = PM_last_3;
            document.getElementById('datetime_last_3').outerText = datetime_last_3;

            if(PM_last_3 <= 15)
            {
            new Chart(document.getElementById("bar-chart-horizontal_3"), {
                        type: 'horizontalBar',
                        data: {
                        labels: [datetime_last_3],
                        datasets: [
                            {
                            //label: "Population (millions)",
                            backgroundColor: ["#87ceeb"],
                            data: [PM_last_3]
                            }
                        ]
                        },
                        options: {
                            responsive: false,
                        legend: { display: false },
                        scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 100,
                                }
                            }]
                        },
                        title: {
                            display: true,
                            text: '초미세먼지'
                        }
                        }
                    });
                }

                else if(PM_last_3 >15 && PM_last_3 < 36)
            {
            new Chart(document.getElementById("bar-chart-horizontal_3"), {
                        type: 'horizontalBar',
                        data: {
                        labels: [datetime_last_3],
                        datasets: [
                            {
                            //label: "Population (millions)",
                            backgroundColor: ["#adff2f"],
                            data: [PM_last_3]
                            }
                        ]
                        },
                        options: {
                            responsive: false,
                        legend: { display: false },
                        scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 100,
                                }
                            }]
                        },
                        title: {
                            display: true,
                            text: '초미세먼지'
                        }
                        }
                    });
                }

                else
            {
            new Chart(document.getElementById("bar-chart-horizontal_3"), {
                        type: 'horizontalBar',
                        data: {
                        labels: [datetime_last_3],
                        datasets: [
                            {
                            //label: "Population (millions)",
                            backgroundColor: ["#ff0000"],
                            data: [PM_last_3]
                            }
                        ]
                        },
                        options: {
                            responsive: false,
                        legend: { display: false },
                        scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 100,
                                }
                            }]
                        },
                        title: {
                            display: true,
                        text: '초미세먼지'
                        }
                        }
                    });
                }

        });

        firebase.database().ref('airQuality/2-pushJSON/').limitToLast(1).on('child_added', function(snapshot){
            //console.log(snapshot.child("PM").val())
            var PM_last_0 = snapshot.child("PM").val();
            var datetime_last_0 = snapshot.child("datetime").val();

            document.getElementById('PM_last_0').outerText = PM_last_0;
            document.getElementById('datetime_last_0').outerText = datetime_last_0;

            if(PM_last_0 <= 15)
            {
            new Chart(document.getElementById("bar-chart-horizontal_0"), {
                        type: 'bar',
                        data: {
                        labels: [datetime_last_0],
                        datasets: [
                            {
                            //label: "Population (millions)",
                            backgroundColor: ["#87ceeb"],
                            data: [PM_last_0]
                            }
                        ]
                        },
                        options: {
                            responsive: false,
                        legend: { display: false },
                        scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 100,
                                }
                            }]
                        },
                        title: {
                            display: true,
                            text: '초미세먼지'
                        }
                        }
                    });
                    document.getElementById('datetime_last_0_message').outerText = "초미세먼지 좋음";
                }

                else if(PM_last_0 >15 && PM_last_0 < 36)
            {
            new Chart(document.getElementById("bar-chart-horizontal_0"), {
                        type: 'bar',
                        data: {
                        labels: [datetime_last_0],
                        datasets: [
                            {
                            //label: "Population (millions)",
                            backgroundColor: ["#adff2f"],
                            data: [PM_last_0]
                            }
                        ]
                        },
                        options: {
                            responsive: false,
                        legend: { display: false },
                        scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 100,
                                }
                            }]
                        },
                        title: {
                            display: true,
                            text: '초미세먼지'
                        }
                        }
                    });
                    document.getElementById('datetime_last_0_message').outerText = "초미세먼지 보통";
                }

                else
            {
            new Chart(document.getElementById("bar-chart-horizontal_0"), {
                        type: 'bar',
                        data: {
                        labels: [datetime_last_0],
                        datasets: [
                            {
                            //label: "Population (millions)",
                            backgroundColor: ["#ff0000"],
                            data: [PM_last_0]
                            }
                        ]
                        },
                        options: {
                            responsive: false,
                        legend: { display: false },
                        scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 100,
                                }
                            }]
                        },
                        title: {
                            display: true,
                        text: '초미세먼지'
                        }
                        }
                    });
                    document.getElementById('datetime_last_0_message').outerText = "초미세먼지 나쁨";
                }

        });

        </script>

        <script>

firebase.database().ref('airQuality/2-pushJSON/').limitToLast(4).on('child_added', function(snapshot){
                    //console.log(snapshot.child("PM").val())
                    var CO_last = snapshot.child("CO").val();
                    var datetime_last_4 = snapshot.child("datetime").val();

                    document.getElementById('CO_last').outerText = CO_last;
                    document.getElementById('datetime_last_4').outerText = datetime_last_4;
                    

                    //document.write(PM_last + "<br>");


                    // for(var i in snapshot.val()){
                    //     document.write(i +" : " + snapshot.val()[i] + "<br>" + "<br>")

                    //     var PM = snapshot.val()[i].PM;

                    //     document.getElementById('PM').innerHTML = PM;
                    // }

                        if(CO_last <= 2)
                        {
                        new Chart(document.getElementById("bar-chart-horizontal_4"), {
                        type: 'horizontalBar',
                        data: {
                        labels: [datetime_last_4],
                        datasets: [
                            {
                            //label: "Population (millions)",
                            backgroundColor: ["#87ceeb"],
                            data: [CO_last]
                            }
                        ]
                        },
                        options: {
                            responsive: false,
                        legend: { display: false },
                        scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 15.1,
                                }
                            }]
                        },
                        title: {
                            display: true,
                            text: '일산화탄소'
                        }
                        }
                    });
                }

                else if(CO_last > 2 && CO_last < 10)
                        {
                        new Chart(document.getElementById("bar-chart-horizontal_4"), {
                        type: 'horizontalBar',
                        data: {
                        labels: [datetime_last_4],
                        datasets: [
                            {
                            //label: "Population (millions)",
                            backgroundColor: ["#adff2f"],
                            data: [CO_last]
                            }
                        ]
                        },
                        options: {
                            responsive: false,
                        legend: { display: false },
                        scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 15.1,
                                }
                            }]
                        },
                        title: {
                            display: true,
                            text: '일산화탄소'
                        }
                        }
                    });
                }

                else
                        {
                        new Chart(document.getElementById("bar-chart-horizontal_4"), {
                        type: 'horizontalBar',
                        data: {
                        labels: [datetime_last_4],
                        datasets: [
                            {
                            //label: "Population (millions)",
                            backgroundColor: ["#ff0000"],
                            data: [CO_last]
                            }
                        ]
                        },
                        options: {
                            responsive: false,
                        legend: { display: false },
                        scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 15.1,
                                }
                            }]
                        },
                        title: {
                            display: true,
                            text: '일산화탄소'
                        }
                        }
                    });
                }
                });

                firebase.database().ref('airQuality/2-pushJSON/').limitToLast(3).on('child_added', function(snapshot){
                    //console.log(snapshot.child("PM").val())
                    var CO_last_2 = snapshot.child("CO").val();
                    var datetime_last_5 = snapshot.child("datetime").val();

                    if(CO_last_2 <= 2)
                    {
                    document.getElementById('CO_last_2').outerText = CO_last_2;
                    document.getElementById('datetime_last_5').outerText = datetime_last_5;

                    new Chart(document.getElementById("bar-chart-horizontal_5"), {
                        type: 'horizontalBar',
                        data: {
                        labels: [datetime_last_5],
                        datasets: [
                            {
                            //label: "Population (millions)",
                            backgroundColor: ["#87ceeb"],
                            data: [CO_last_2]
                            }
                        ]
                        },
                        options: {
                            responsive: false,
                        legend: { display: false },
                        scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 15.1,
                                }
                            }]
                        },
                        title: {
                            display: true,
                            text: '일산화탄소'
                        }
                        }
                    });
                }

                else if(CO_last_2  > 2 && CO_last_2 < 10)
                    {
                    document.getElementById('CO_last_2').outerText = CO_last_2;
                    document.getElementById('datetime_last_5').outerText = datetime_last_5;

                    new Chart(document.getElementById("bar-chart-horizontal_5"), {
                        type: 'horizontalBar',
                        data: {
                        labels: [datetime_last_5],
                        datasets: [
                            {
                            //label: "Population (millions)",
                            backgroundColor: ["#adff2f"],
                            data: [CO_last_2]
                            }
                        ]
                        },
                        options: {
                            responsive: false,
                        legend: { display: false },
                        scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 15.1,
                                }
                            }]
                        },
                        title: {
                            display: true,
                            text: '일산화탄소'
                        }
                        }
                    });
                }

                else
                    {
                    document.getElementById('CO_last_2').outerText = CO_last_2;
                    document.getElementById('datetime_last_5').outerText = datetime_last_5;

                    new Chart(document.getElementById("bar-chart-horizontal_5"), {
                        type: 'horizontalBar',
                        data: {
                        labels: [datetime_last_5],
                        datasets: [
                            {
                            //label: "Population (millions)",
                            backgroundColor: ["#ff0000"],
                            data: [CO_last_2]
                            }
                        ]
                        },
                        options: {
                            responsive: false,
                        legend: { display: false },
                        scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 15.1,
                                }
                            }]
                        },
                        title: {
                            display: true,
                            text: '일산화탄소'
                        }
                        }
                    });
                }

                });

                firebase.database().ref('airQuality/2-pushJSON/').limitToLast(2).on('child_added', function(snapshot){
            //console.log(snapshot.child("PM").val())
            var CO_last_3 = snapshot.child("CO").val();
            var datetime_last_6 = snapshot.child("datetime").val();

            document.getElementById('CO_last_3').outerText = CO_last_3;
            document.getElementById('datetime_last_6').outerText = datetime_last_6;

            if(CO_last_3 <=2)
            {
            new Chart(document.getElementById("bar-chart-horizontal_6"), {
                        type: 'horizontalBar',
                        data: {
                        labels: [datetime_last_6],
                        datasets: [
                            {
                            //label: "Population (millions)",
                            backgroundColor: ["#87ceeb"],
                            data: [CO_last_3]
                            }
                        ]
                        },
                        options: {
                            responsive: false,
                        legend: { display: false },
                        scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 15.1,
                                }
                            }]
                        },
                        title: {
                            display: true,
                            text: '일산화탄소'
                        }
                        }
                    });
                }

                else if(CO_last_3 > 2 && CO_last_3 < 10)
            {
            new Chart(document.getElementById("bar-chart-horizontal_6"), {
                        type: 'horizontalBar',
                        data: {
                        labels: [datetime_last_6],
                        datasets: [
                            {
                            //label: "Population (millions)",
                            backgroundColor: ["#adff2f"],
                            data: [CO_last_3]
                            }
                        ]
                        },
                        options: {
                            responsive: false,
                        legend: { display: false },
                        scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 15.1,
                                }
                            }]
                        },
                        title: {
                            display: true,
                            text: '일산화탄소'
                        }
                        }
                    });
                }

                else
            {
            new Chart(document.getElementById("bar-chart-horizontal_6"), {
                        type: 'horizontalBar',
                        data: {
                        labels: [datetime_last_6],
                        datasets: [
                            {
                            //label: "Population (millions)",
                            backgroundColor: ["#ff0000"],
                            data: [CO_last_3]
                            }
                        ]
                        },
                        options: {
                            responsive: false,
                        legend: { display: false },
                        scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 15.1,
                                }
                            }]
                        },
                        title: {
                            display: true,
                            text: '일산화탄소'
                        }
                        }
                    });
                }
        });

        firebase.database().ref('airQuality/2-pushJSON/').limitToLast(1).on('child_added', function(snapshot){
            //console.log(snapshot.child("PM").val())
            var CO_last_02 = snapshot.child("CO").val();
            var datetime_last_02 = snapshot.child("datetime").val();

            document.getElementById('CO_last_02').outerText = CO_last_02;
            document.getElementById('datetime_last_02').outerText = datetime_last_02;

            if(CO_last_02 <=2)
            {
            new Chart(document.getElementById("bar-chart-horizontal_02"), {
                        type: 'bar',
                        data: {
                        labels: [datetime_last_0],
                        datasets: [
                            {
                            //label: "Population (millions)",
                            backgroundColor: ["#87ceeb"],
                            data: [CO_last_0]
                            }
                        ]
                        },
                        options: {
                            responsive: false,
                        legend: { display: false },
                        scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 15.1,
                                }
                            }]
                        },
                        title: {
                            display: true,
                            text: '일산화탄소'
                        }
                        }
                    });
                    document.getElementById('datetime_last_02_message').outerText = "일산화탄소 좋음";
                }

                else if(CO_last_02 > 2 && CO_last_02 < 10)
            {
            new Chart(document.getElementById("bar-chart-horizontal_02"), {
                        type: 'bar',
                        data: {
                        labels: [datetime_last_02],
                        datasets: [
                            {
                            //label: "Population (millions)",
                            backgroundColor: ["#adff2f"],
                            data: [CO_last_02]
                            }
                        ]
                        },
                        options: {
                            responsive: false,
                        legend: { display: false },
                        scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 15.1,
                                }
                            }]
                        },
                        title: {
                            display: true,
                            text: '일산화탄소'
                        }
                        }
                    });
                    document.getElementById('datetime_last_02_message').outerText = "일산화탄소 보통";
                }

                else
            {
            new Chart(document.getElementById("bar-chart-horizontal_02"), {
                        type: 'bar',
                        data: {
                        labels: [datetime_last_02],
                        datasets: [
                            {
                            //label: "Population (millions)",
                            backgroundColor: ["#ff0000"],
                            data: [CO_last_02]
                            }
                        ]
                        },
                        options: {
                            responsive: false,
                        legend: { display: false },
                        scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 15.1,
                                }
                            }]
                        },
                        title: {
                            display: true,
                            text: '일산화탄소'
                        }
                        }
                    });
                    document.getElementById('datetime_last_02_message').outerText = "일산화탄소 나쁨";
                }
        });

        </script>


<script>

    firebase.database().ref('airQuality/2-pushJSON/').limitToLast(4).on('child_added', function(snapshot){
                        //console.log(snapshot.child("PM").val())
                        var CO2_last = snapshot.child("CO2").val();
                        var datetime_last_7 = snapshot.child("datetime").val();


                        document.getElementById('CO2_last').outerText = CO2_last;
                        document.getElementById('datetime_last_7').outerText = datetime_last_7;

                        //document.write(PM_last + "<br>");
    
    
                        // for(var i in snapshot.val()){
                        //     document.write(i +" : " + snapshot.val()[i] + "<br>" + "<br>")
    
                        //     var PM = snapshot.val()[i].PM;
    
                        //     document.getElementById('PM').innerHTML = PM;
                        // }
    
                            if(CO2_last <= 450)
                            {
                            new Chart(document.getElementById("bar-chart-horizontal_7"), {
                            type: 'horizontalBar',
                            data: {
                            labels: [datetime_last_7],
                            datasets: [
                                {
                                //label: "Population (millions)",
                                backgroundColor: ["#87ceeb"],
                                data: [CO2_last]
                                }
                            ]
                            },
                            options: {
                                responsive: false,
                            legend: { display: false },
                            scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 1000,
                                }
                            }]
                        },
                            title: {
                                display: true,
                                text: '이산화탄소'
                            }
                            }
                        });
                    }

                    else if(CO_last > 450 && CO_last < 1001)
                            {
                            new Chart(document.getElementById("bar-chart-horizontal_7"), {
                            type: 'horizontalBar',
                            data: {
                            labels: [datetime_last_7],
                            datasets: [
                                {
                                //label: "Population (millions)",
                                backgroundColor: ["#adff2f"],
                                data: [CO2_last]
                                }
                            ]
                            },
                            options: {
                                responsive: false,
                            legend: { display: false },
                            scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 1000,
                                }
                            }]
                        },
                            title: {
                                display: true,
                                text: '이산화탄소'
                            }
                            }
                        });
                    }

                    else
                            {
                            new Chart(document.getElementById("bar-chart-horizontal_7"), {
                            type: 'horizontalBar',
                            data: {
                            labels: [datetime_last_7],
                            datasets: [
                                {
                                //label: "Population (millions)",
                                backgroundColor: ["#ff0000"],
                                data: [CO2_last]
                                }
                            ]
                            },
                            options: {
                                responsive: false,
                            legend: { display: false },
                            scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 1000,
                                }
                            }]
                        },
                            title: {
                                display: true,
                                text: '이산화탄소'
                            }
                            }
                        });
                    }
                    });
    
                    firebase.database().ref('airQuality/2-pushJSON/').limitToLast(3).on('child_added', function(snapshot){
                        //console.log(snapshot.child("PM").val())
                        var CO2_last_2 = snapshot.child("CO2").val();
                        var datetime_last_8 = snapshot.child("datetime").val();


                        document.getElementById('CO2_last_2').outerText = CO2_last_2;
                        document.getElementById('datetime_last_8').outerText = datetime_last_8;

                        if(CO2_last_2 <= 450)
                        {
                        new Chart(document.getElementById("bar-chart-horizontal_8"), {
                            type: 'horizontalBar',
                            data: {
                            labels: [datetime_last_8],
                            datasets: [
                                {
                                //label: "Population (millions)",
                                backgroundColor: ["#87ceeb"],
                                data: [CO2_last_2]
                                }
                            ]
                            },
                            options: {
                                responsive: false,
                            legend: { display: false },
                            scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 1000,
                                }
                            }]
                        },
                            title: {
                                display: true,
                                text: '이산화탄소'
                            }
                            }
                        });
                    }

                    else if(CO2_last_2 > 451 && CO2_last_2 < 1001)
                        {
                        new Chart(document.getElementById("bar-chart-horizontal_8"), {
                            type: 'horizontalBar',
                            data: {
                            labels: [datetime_last_8],
                            datasets: [
                                {
                                //label: "Population (millions)",
                                backgroundColor: ["#adff2f"],
                                data: [CO2_last_2]
                                }
                            ]
                            },
                            options: {
                                responsive: false,
                            legend: { display: false },
                            scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 1000,
                                }
                            }]
                        },
                            title: {
                                display: true,
                                text: '이산화탄소'
                            }
                            }
                        });
                    }

                    else
                        {
                        new Chart(document.getElementById("bar-chart-horizontal_8"), {
                            type: 'horizontalBar',
                            data: {
                            labels: [datetime_last_8],
                            datasets: [
                                {
                                //label: "Population (millions)",
                                backgroundColor: ["#ff0000"],
                                data: [CO2_last_2]
                                }
                            ]
                            },
                            options: {
                                responsive: false,
                            legend: { display: false },
                            scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 1000,
                                }
                            }]
                        },
                            title: {
                                display: true,
                                text: '이산화탄소'
                            }
                            }
                        });
                    }
    
                    });
    
                    firebase.database().ref('airQuality/2-pushJSON/').limitToLast(2).on('child_added', function(snapshot){
                //console.log(snapshot.child("PM").val())
                var CO2_last_3 = snapshot.child("CO2").val();
                var datetime_last_9 = snapshot.child("datetime").val();
    
                document.getElementById('CO2_last_3').outerText = CO2_last_3;
                document.getElementById('datetime_last_9').outerText = datetime_last_9;
    
                if(CO2_last_3 <= 450)
                {
                new Chart(document.getElementById("bar-chart-horizontal_9"), {
                            type: 'horizontalBar',
                            data: {
                            labels: [datetime_last_9],
                            datasets: [
                                {
                                //label: "Population (millions)",
                                backgroundColor: ["#87ceeb"],
                                data: [CO2_last_3]
                                }
                            ]
                            },
                            options: {
                                responsive: false,
                            legend: { display: false },
                            scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 1000,
                                }
                            }]
                        },
                            title: {
                                display: true,
                                text: '이산화탄소'
                            }
                            }
                        });
                    }

                    else if(CO2_last_3 > 450 && CO2_last_3 < 1001)
                {
                new Chart(document.getElementById("bar-chart-horizontal_9"), {
                            type: 'horizontalBar',
                            data: {
                            labels: [datetime_last_9],
                            datasets: [
                                {
                                //label: "Population (millions)",
                                backgroundColor: ["#adff2f"],
                                data: [CO2_last_3]
                                }
                            ]
                            },
                            options: {
                                responsive: false,
                            legend: { display: false },
                            scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 1000,
                                }
                            }]
                        },
                            title: {
                                display: true,
                                text: '이산화탄소'
                            }
                            }
                        });
                    }

                    else
                {
                new Chart(document.getElementById("bar-chart-horizontal_9"), {
                            type: 'horizontalBar',
                            data: {
                            labels: [datetime_last_9],
                            datasets: [
                                {
                                //label: "Population (millions)",
                                backgroundColor: ["#ff0000"],
                                data: [CO2_last_3]
                                }
                            ]
                            },
                            options: {
                                responsive: false,
                            legend: { display: false },
                            scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 1000,
                                }
                            }]
                        },
                            title: {
                                display: true,
                                text: '이산화탄소'
                            }
                            }
                        });
                    }
            });

            firebase.database().ref('airQuality/2-pushJSON/').limitToLast(1).on('child_added', function(snapshot){
                //console.log(snapshot.child("PM").val())
                var CO2_last_03 = snapshot.child("CO2").val();
                var datetime_last_03 = snapshot.child("datetime").val();
    
                document.getElementById('CO2_last_03').outerText = CO2_last_03;
                document.getElementById('datetime_last_03').outerText = datetime_last_03;
    
                if(CO2_last_03 <= 450)
                {
                new Chart(document.getElementById("bar-chart-horizontal_03"), {
                            type: 'bar',
                            data: {
                            labels: [datetime_last_03],
                            datasets: [
                                {
                                //label: "Population (millions)",
                                backgroundColor: ["#87ceeb"],
                                data: [CO2_last_03]
                                }
                            ]
                            },
                            options: {
                                responsive: false,
                            legend: { display: false },
                            scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 1000,
                                }
                            }]
                        },
                            title: {
                                display: true,
                                text: '이산화탄소'
                            }
                            }
                        });
                        document.getElementById('datetime_last_03_message').outerText = "이산화탄소 좋음";
                    }

                    else if(CO2_last_03 > 450 && CO2_last_03 < 1001)
                {
                new Chart(document.getElementById("bar-chart-horizontal_03"), {
                            type: 'bar',
                            data: {
                            labels: [datetime_last_03],
                            datasets: [
                                {
                                //label: "Population (millions)",
                                backgroundColor: ["#adff2f"],
                                data: [CO2_last_03]
                                }
                            ]
                            },
                            options: {
                                responsive: false,
                            legend: { display: false },
                            scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 1000,
                                }
                            }]
                        },
                            title: {
                                display: true,
                                text: '이산화탄소'
                            }
                            }
                        });
                        document.getElementById('datetime_last_03_message').outerText = "이산화탄소 보통";
                    }

                    else
                {
                new Chart(document.getElementById("bar-chart-horizontal_03"), {
                            type: 'bar',
                            data: {
                            labels: [datetime_last_03],
                            datasets: [
                                {
                                //label: "Population (millions)",
                                backgroundColor: ["#ff0000"],
                                data: [CO2_last_03]
                                }
                            ]
                            },
                            options: {
                                responsive: false,
                            legend: { display: false },
                            scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 1000,
                                }
                            }]
                        },
                            title: {
                                display: true,
                                text: '이산화탄소'
                            }
                            }
                        });
                        document.getElementById('datetime_last_03_message').outerText = "이산화탄소 나쁨";
                    }
            });
    
            </script>


<script>

    firebase.database().ref('airQuality/2-pushJSON/').limitToLast(4).on('child_added', function(snapshot){
                        //console.log(snapshot.child("PM").val())
                        var O3_last = snapshot.child("O3").val();
                        var datetime_last_10 = snapshot.child("datetime").val();

                        document.getElementById('O3_last').outerText = O3_last;
                        document.getElementById('datetime_last_10').outerText = datetime_last_10;
                        
                        
    
                        //document.write(PM_last + "<br>");
    
    
                        // for(var i in snapshot.val()){
                        //     document.write(i +" : " + snapshot.val()[i] + "<br>" + "<br>")
    
                        //     var PM = snapshot.val()[i].PM;
    
                        //     document.getElementById('PM').innerHTML = PM;
                        // }
    
                        if(O3_last <= 0.03)
                        {
                            new Chart(document.getElementById("bar-chart-horizontal_10"), {
                            type: 'horizontalBar',
                            data: {
                            labels: [datetime_last_10],
                            datasets: [
                                {
                                //label: "Population (millions)",
                                backgroundColor: ["#87ceeb"],
                                data: [O3_last]
                                }
                            ]
                            },
                            options: {
                                responsive: false,
                            legend: { display: false },
                            scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 0.151,
                                }
                            }]
                        },
                            title: {
                                display: true,
                                text: '오존'
                            }
                            }
                        });
                    }

                    else if(O3_last > 0.03 && 0.091)
                        {
                            new Chart(document.getElementById("bar-chart-horizontal_10"), {
                            type: 'horizontalBar',
                            data: {
                            labels: [datetime_last_10],
                            datasets: [
                                {
                                //label: "Population (millions)",
                                backgroundColor: ["#adff2f"],
                                data: [O3_last]
                                }
                            ]
                            },
                            options: {
                                responsive: false,
                            legend: { display: false },
                            scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 0.151,
                                }
                            }]
                        },
                            title: {
                                display: true,
                                text: '오존'
                            }
                            }
                        });
                    }


                    else                        {
                            new Chart(document.getElementById("bar-chart-horizontal_10"), {
                            type: 'horizontalBar',
                            data: {
                            labels: [datetime_last_10],
                            datasets: [
                                {
                                //label: "Population (millions)",
                                backgroundColor: ["#ff0000"],
                                data: [O3_last]
                                }
                            ]
                            },
                            options: {
                                responsive: false,
                            legend: { display: false },
                            scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 0.151,
                                }
                            }]
                        },
                            title: {
                                display: true,
                                text: '오존'
                            }
                            }
                        });
                    }
                    });
    
                    firebase.database().ref('airQuality/2-pushJSON/').limitToLast(3).on('child_added', function(snapshot){
                        //console.log(snapshot.child("PM").val())
                        var O3_last_2 = snapshot.child("O3").val();
                        var datetime_last_11 = snapshot.child("datetime").val();
    
                        document.getElementById('O3_last_2').outerText = O3_last_2;
                        document.getElementById('datetime_last_11').outerText = datetime_last_11;
    
                        if(O3_last_2 <= 0.03)
                        {
                        new Chart(document.getElementById("bar-chart-horizontal_11"), {
                            type: 'horizontalBar',
                            data: {
                            labels: [datetime_last_11],
                            datasets: [
                                {
                                //label: "Population (millions)",
                                backgroundColor: ["#87ceeb"],
                                data: [O3_last_2]
                                }
                            ]
                            },
                            options: {
                                responsive: false,
                            legend: { display: false },
                            scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 0.151,
                                }
                            }]
                        },
                            title: {
                                display: true,
                                text: '오존'
                            }
                            }
                        });
    
                    }

                    else if(O3_last_2 > 0.03 && O3_last_2 < 0.091)
                        {
                        new Chart(document.getElementById("bar-chart-horizontal_11"), {
                            type: 'horizontalBar',
                            data: {
                            labels: [datetime_last_11],
                            datasets: [
                                {
                                //label: "Population (millions)",
                                backgroundColor: ["#adff2f"],
                                data: [O3_last_2]
                                }
                            ]
                            },
                            options: {
                                responsive: false,
                            legend: { display: false },
                            scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 0.151,
                                }
                            }]
                        },
                            title: {
                                display: true,
                                text: '오존'
                            }
                            }
                        });
    
                    }

                    else
                        {
                        new Chart(document.getElementById("bar-chart-horizontal_11"), {
                            type: 'horizontalBar',
                            data: {
                            labels: [datetime_last_11],
                            datasets: [
                                {
                                //label: "Population (millions)",
                                backgroundColor: ["#ff0000"],
                                data: [O3_last_2]
                                }
                            ]
                            },
                            options: {
                                responsive: false,
                            legend: { display: false },
                            scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 0.151,
                                }
                            }]
                        },
                            title: {
                                display: true,
                                text: '오존'
                            }
                            }
                        });
    
                    }
                    });
    
                    firebase.database().ref('airQuality/2-pushJSON/').limitToLast(2).on('child_added', function(snapshot){
                //console.log(snapshot.child("PM").val())
                var O3_last_3 = snapshot.child("O3").val();
                var datetime_last_12 = snapshot.child("datetime").val();
    
                document.getElementById('O3_last_3').outerText = O3_last_3;
                document.getElementById('datetime_last_12').outerText = datetime_last_12;
    
                if(O3_last_3 <= 0.03)
                {
                new Chart(document.getElementById("bar-chart-horizontal_12"), {
                            type: 'horizontalBar',
                            data: {
                            labels: [datetime_last_12],
                            datasets: [
                                {
                                //label: "Population (millions)",
                                backgroundColor: ["#87ceeb"],
                                data: [O3_last_3]
                                }
                            ]
                            },
                            options: {
                                responsive: false,
                            legend: { display: false },
                            scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 0.151,
                                }
                            }]
                        },
                            title: {
                                display: true,
                                text: '오존'
                            }
                            }
                        });
                    }

                    else if(O3_last_3 > 0.03 && O3_last_3 < 0.091)
                {
                new Chart(document.getElementById("bar-chart-horizontal_12"), {
                            type: 'horizontalBar',
                            data: {
                            labels: [datetime_last_12],
                            datasets: [
                                {
                                //label: "Population (millions)",
                                backgroundColor: ["#adff2f"],
                                data: [O3_last_3]
                                }
                            ]
                            },
                            options: {
                                responsive: false,
                            legend: { display: false },
                            scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 0.151,
                                }
                            }]
                        },
                            title: {
                                display: true,
                                text: '오존'
                            }
                            }
                        });
                    }

                    else
                {
                new Chart(document.getElementById("bar-chart-horizontal_12"), {
                            type: 'horizontalBar',
                            data: {
                            labels: [datetime_last_12],
                            datasets: [
                                {
                                //label: "Population (millions)",
                                backgroundColor: ["#ff0000"],
                                data: [O3_last_3]
                                }
                            ]
                            },
                            options: {
                                responsive: false,
                            legend: { display: false },
                            scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 0.151,
                                }
                            }]
                        },
                            title: {
                                display: true,
                                text: '오존'
                            }
                            }
                        });
                    }
            });

            firebase.database().ref('airQuality/2-pushJSON/').limitToLast(1).on('child_added', function(snapshot){
                //console.log(snapshot.child("PM").val())
                var O3_last_04 = snapshot.child("O3").val();
                var datetime_last_04 = snapshot.child("datetime").val();
    
                document.getElementById('O3_last_04').outerText = O3_last_04;
                document.getElementById('datetime_last_04').outerText = datetime_last_04;
    
                if(O3_last_04 <= 0.03)
                {
                new Chart(document.getElementById("bar-chart-horizontal_04"), {
                            type: 'bar',
                            data: {
                            labels: [datetime_last_04],
                            datasets: [
                                {
                                //label: "Population (millions)",
                                backgroundColor: ["#87ceeb"],
                                data: [O3_last_04]
                                }
                            ]
                            },
                            options: {
                                responsive: false,
                            legend: { display: false },
                            scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 0.091,
                                }
                            }]
                        },
                            title: {
                                display: true,
                                text: '오존'
                            }
                            }
                        });
                        document.getElementById('datetime_last_04_message').outerText = "오존 좋음";
                    }

                    else if(O3_last_04 > 0.03 && O3_last_04 < 0.091)
                {
                new Chart(document.getElementById("bar-chart-horizontal_04"), {
                            type: 'bar',
                            data: {
                            labels: [datetime_last_04],
                            datasets: [
                                {
                                //label: "Population (millions)",
                                backgroundColor: ["#adff2f"],
                                data: [O3_last_04]
                                }
                            ]
                            },
                            options: {
                                responsive: false,
                            legend: { display: false },
                            scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 0.091,
                                }
                            }]
                        },
                            title: {
                                display: true,
                                text: '오존'
                            }
                            }
                        });
                        document.getElementById('datetime_last_04_message').outerText = "오존 보통";
                    }

                    else
                {
                new Chart(document.getElementById("bar-chart-horizontal_04"), {
                            type: 'bar',
                            data: {
                            labels: [datetime_last_04],
                            datasets: [
                                {
                                //label: "Population (millions)",
                                backgroundColor: ["#ff0000"],
                                data: [O3_last_04]
                                }
                            ]
                            },
                            options: {
                                responsive: false,
                            legend: { display: false },
                            scales: {
                            xAxes: [{
                                ticks: {
                                    suggestedMin: 0,
                                    suggestedMax: 0.091,
                                }
                            }]
                        },
                            title: {
                                display: true,
                                text: '오존'
                            }
                            }
                        });
                        document.getElementById('datetime_last_04_message').outerText = "오존 나쁨";
                    }
            });
    
            </script>



        <script>
            //var searchDB = document.getElementById("message").value;
        
                firebase.database().ref('airQuality/1-setFloat').on('value', function(snapshot){
                if(snapshot.val())
                {
                    var CO2 = snapshot.val().CO2;
                    var O3 = snapshot.val().O3;
                    var PM = snapshot.val().PM;
                    var CO = snapshot.val().CO;
                    var datetime = snapshot.val().datetime;
                    var datetime_2 = snapshot.val().datetime;
                   
                    document.getElementById("CO2").innerHTML = CO2+'ppm';
                    document.getElementById("O3").innerHTML = O3+'ppm';
                    document.getElementById("PM").innerHTML = PM+'㎛';
                    document.getElementById("CO").innerHTML = CO+'ppm';
                    document.getElementById("datetime").innerHTML = datetime;
                    document.getElementById("datetime_2").innerHTML = datetime_2;

                    
                    
                }

                
                    if(PM < 15)
                    {
                        document.getElementById("Message_PM").innerHTML ='실내 미세먼지가 좋음('+ PM+'㎛)입니다.';
                        
                    }
                    else if(16 < PM && PM < 35 )
                    {
                        document.getElementById("Message_PM").innerHTML ='실내 미세먼지가 보통('+ PM+'㎛)입니다.<br> 호흡기질환 및 노년층분들은 주의해주세요.';
                    }
                    else
                    {
                        document.getElementById("Message_PM").innerHTML ='실내 미세먼지가 나쁨('+ PM+'㎛)이상입니다.<br> 환시시켜주세요.';
                    }

                    if(O3 < 0.030)
                    {
                        document.getElementById("Message_O3").innerHTML ='실내 오존이 좋음('+ O3+'ppm)입니다.';
                    }
                    else if(0.031 < O3 && O3 < 0.090 )
                    {
                        document.getElementById("Message_O3").innerHTML ='실내 오존이 보통('+ O3+'ppm)입니다.<br> 호흡기질환 및 노년층분들은 주의해주세요.';
                    }
                    else
                    {
                        document.getElementById("Message_O3").innerHTML ='실내 오존이 나쁨('+ O3+'ppm)이상입니다.<br> 환기시켜주세요.';
                    }

                    if(CO2 < 450)
                    {
                        document.getElementById("Message_CO2").innerHTML ='실내 이산화탄소가 좋음('+ CO2+'ppm)입니다.';
                    }
                    else if(451 < O3 && O3 < 1000 )
                    {
                        document.getElementById("Message_CO2").innerHTML ='실내 이산화탄소가 보통('+ CO2+'ppm)입니다.<br> 호흡기질환 및 노년층분들은 주의해주세요.';
                    }
                    else
                    {
                        document.getElementById("Message_CO2").innerHTML ='실내 이산화탄소가 나쁨('+ CO2+'ppm)이상입니다.<br> 환시시켜주세요.';
                    }

                    if(CO < 2)
                    {
                        document.getElementById("Message_CO").innerHTML ='실내 일산화탄소가 좋음('+ CO+'ppm)입니다.';
                    }
                    else if(2.1 < CO && CO < 9 )
                    {
                        document.getElementById("Message_CO").innerHTML ='실내 일산화탄소가 보통('+ CO+'ppm)입니다.<br> 호흡기질환 및 노년층분들은 주의해주세요.';
                    }
                    else
                    {
                        document.getElementById("Message_CO").innerHTML ='실내 일산화탄소가 나쁨('+ CO+'ppm)이상입니다.<br> 환시시켜주세요.';
                    }
            })
        </script>

        

<script type="text/javascript">
    $(document).ready(function(){
        $("#autoclick1").trigger('click');
        $("#autoclick1_message").trigger('click');
        $("#autoclick2").trigger('click');
        $("#autoclick3").trigger('click');
        $("#autoclick4").trigger('click');
    })
    </script>


<Script>
    function q1(){
    $.ajax({
        type: "GET",
        url: "http://openapi.seoul.go.kr:8088/6d4d776b466c656533356a4b4b5872/json/RealtimeCityAir/1/99",
        data: {},
        success: function(response){
            $("#names-q1").empty();
            let mise = response["RealtimeCityAir"]["row"];

            
                //let gu_name = mise[1]["MSRSTE_NM"];
                let gu_mise = mise[1]["PM25"];
            
                let str_mise = ``;
            
                str_mise = `<p5>${gu_mise}㎛</p5>`;    
                
                $("#names-q1").append(str_mise);
              
                document.getElementById("Message_PM2").innerHTML ='실외 미세먼지는('+str_mise+')입니다';

            //console.log(response)
        }
        
    })
}
</Script>



<Script>
    function q2(){
    $.ajax({
        type: "GET",
        url: "http://openapi.seoul.go.kr:8088/6d4d776b466c656533356a4b4b5872/json/RealtimeCityAir/1/99",
        data: {},
        success: function(response){
            $("#names-q2").empty();
            let mise = response["RealtimeCityAir"]["row"];

            
                //let gu_name = mise[1]["MSRSTE_NM"];
                let gu_mise = mise[1]["NO2"];
            
                let str_mise = ``;
            
                str_mise = `<p5 > ${gu_mise}ppm</p5>`;     
                
            
                $("#names-q2").append(str_mise);

                document.getElementById("Message_CO2_2").innerHTML ='실외 이산화탄소는('+str_mise+')입니다';
            
            //console.log(response)
        }
    })
}
</Script>

<Script>
    function q3(){
    $.ajax({
        type: "GET",
        url: "http://openapi.seoul.go.kr:8088/6d4d776b466c656533356a4b4b5872/json/RealtimeCityAir/1/99",
        data: {},
        success: function(response){
            $("#names-q3").empty();
            let mise = response["RealtimeCityAir"]["row"];

            
                //let gu_name = mise[1]["MSRSTE_NM"];
                let gu_mise = mise[1]["CO"];
            
                let str_mise = ``;
            
                str_mise = `<p5>${gu_mise}ppm</p5>`;     
                
            
                $("#names-q3").append(str_mise);

                document.getElementById("Message_CO_2").innerHTML ='실외 일산화탄소는('+str_mise+')입니다';
            
           // console.log(response)
        }
    })
}
</Script>

<Script>
    function q4(){
    $.ajax({
        type: "GET",
        url: "http://openapi.seoul.go.kr:8088/6d4d776b466c656533356a4b4b5872/json/RealtimeCityAir/1/99",
        data: {},
        success: function(response){
            $("#names-q4").empty();
            let mise = response["RealtimeCityAir"]["row"];

            
                //let gu_name = mise[1]["MSRSTE_NM"];
                let gu_mise = mise[1]["O3"];
            
                let str_mise = ``;
            
                str_mise = `<p5>${gu_mise}ppm</p5>`;     
                
            
                $("#names-q4").append(str_mise);

                document.getElementById("Message_O32").innerHTML ='실외 오존은('+str_mise+')입니다';
            
           // console.log(response)
        }
    })
}
</Script>

</section>
